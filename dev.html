<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>lubos-lenco</title>
	<style>
		body {
			background-color: #000;
			font-size: 1rem;
			color: #2aa62a;
			font-family: "Roboto Mono", monospace;
		}
		a,
		a:active,
		a:visited {
			color: inherit;
		}
		img {
			max-width: 100%;
		}
		div {
			background-color: #101010;
			padding: 1.5rem;
			margin: 1rem auto;
			border-radius: 10px;
			max-width: 800px;
			text-align: left;
		}
		h1, h3 {
			font-weight: 400;
		}
		button {
			background-color: #222;
			color: #2aa62a;
			border: none;
			padding: 0.5rem 1rem;
			border-radius: 5px;
			cursor: pointer;
		}
		button:hover {
			background-color: #333;
		}
	</style>
	<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
</head>
<body>

	<div style="background-color: #000;">
		<a href="https://armory3d.org">armory3d.org</a>
		<a href="https://github.com/luboslenco">github.com/luboslenco</a>
		<a href="https://x.com/luboslenco">x.com/luboslenco</a>
		<script>
		var user_name = "lubos";
		var host_name = "armory3d.com";
		document.write("<a href='" + "mail" + "to:" + user_name + "@" + host_name + "'>" + "@email" + "</a>");
		</script>
	</div>

	<div style="background-color: #000;">

		<h1>Log<span id="view-count" style="font-size: 0.4em; font-weight: normal; color: #333; padding-left: 10px;"></span></h1>
		<script>
		fetch('https://counters.armory3d.workers.dev' + window.location.pathname)
			.then(res => res.text())
			.then(count => {
			document.getElementById('view-count').innerText = count;
			});
		</script>

		<a href="https://luboslenco.com/rss.xml" target="_blank"><button type="button">RSS</button></a>
	</div>

	<div>
		<p>Mar 20, 2025</p>
		<h3>Learning about <a href="https://github.com/Kode/Kongruent">Kongruent</a> - shader lang and cross-compiler. Another incredible library by robdangerous.</h3>
		<br>
	</div>

	<div>
		<p>Dec 22, 2024</p>
		<h3>Had fun improving the path-tracing renderer. Can handle fully dynamic scenes now.</h3>
		<img src="img/000.jpg" width="320"><br>
	</div>

	<div style="background-color: #000; padding: 20px; border-radius: 8px;">
		<textarea id="comment_text" placeholder="Write a comment..."
			style="width: 100%; height: 80px; margin-bottom: 10px; padding: 10px;
				border-radius: 4px; background-color: #000; color: #fff;
				border: 1px solid #444; outline: none;"></textarea>
		<div class="cf-turnstile" data-sitekey="0x4AAAAAACav7T_3GF2fi21m" data-theme="dark"></div>
		<button type="button" id="comment_button" style="margin-top: 10px; cursor: pointer; padding: 10px 20px;">
			Comment
		</button>
	</div>

	<script>
		document.getElementById('comment_button').addEventListener('click', async () => {
			const text = document.getElementById('comment_text').value;
			if (text) {
				const turnstile = document.querySelector('[name="cf-turnstile-response"]').value;
				await fetch('https://forums.armory3d.workers.dev/', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({
						comment: text,
						post_id: "luboslenco.com/0",
						token: turnstile
					})
				});

				document.getElementById('comment_text').value = '';
			}
		});
	</script>

	<div id="comments_list" style="color: #ccc; margin-top: 20px; font-family: sans-serif;">
		Loading comments...
	</div>

	<script>
		const POST_ID = "luboslenco.com/0";
		const API_URL = 'https://forums.armory3d.workers.dev/';
		async function loadComments() {
			const response = await fetch(`${API_URL}?post_id=${POST_ID}`);
			const comments = await response.json();
			const container = document.getElementById('comments_list');
			container.innerHTML = comments.map(c => `
				<div style="border-bottom: 1px solid #333; padding: 10px 0;">
					<small style="color: #666;">${new Date(c.created_at).toLocaleString()}</small>
					<p style="margin: 5px 0;">${c.content}</p>
				</div>
			`).join('') || "No comments.";
		}
		loadComments();
	</script>

</body>
</html>
